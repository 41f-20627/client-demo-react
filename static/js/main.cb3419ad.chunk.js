(this["webpackJsonpapp-biero"]=this["webpackJsonpapp-biero"]||[]).push([[0],{25:function(e,t,a){e.exports=a(42)},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),s=a.n(i),c=(a(30),a(3)),o=a(4),m=a(6),l=a(5),u=a(11),b=a(7),h=(a(31),a(10)),p=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(l.a)(t).call(this,e))}return Object(b.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("nav",null,r.a.createElement("div",{className:"top-nav"},r.a.createElement("div",{className:"barre"},r.a.createElement(h.b,{className:"logo",to:"/"},"B",r.a.createElement("span",null,"iero")),r.a.createElement("span",{className:"flex-spacer"}),r.a.createElement("p",{className:"menu-mobile"})),r.a.createElement("span",{className:"flex-spacer"}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(h.c,{activeClassName:"active",to:"/biere"},"Les bi\xe8res")),r.a.createElement("li",null,r.a.createElement("input",{name:"courriel",onChange:this.props.surChangement}),r.a.createElement("button",null,"Login")),r.a.createElement("li",{className:"social"},r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"icon-facebook_circle icon2x"})),r.a.createElement("a",{href:"#"},r.a.createElement("i",{className:"icon-twitter_circle icon2x"})))))))}}]),t}(r.a.Component),d=(a(37),function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(l.a)(t).call(this,e))}return Object(b.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"pageAccueil"},r.a.createElement("div",{className:"contenu"},r.a.createElement("div",{className:"bandeau"},r.a.createElement(h.b,{to:"/biere",className:"btnAction"},"Notre s\xe9lection de bi\xe8re")),r.a.createElement("div",{className:"arguments"},r.a.createElement("div",null,"Argument 1"),r.a.createElement("div",null,"Argument 2"),r.a.createElement("div",null,"Argument 3"))))}}]),t}(r.a.Component)),v=(a(38),a(39),function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(l.a)(t).call(this,e))}return Object(b.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("article",{ref:"biere",className:"unBiere init",style:{animationDelay:50*this.props.position+"ms"}},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:"204x204.png"})),r.a.createElement("div",{className:"texte"},r.a.createElement("span",{className:"nom"},this.props.nom),r.a.createElement("span",{className:"brasserie"},this.props.brasserie)))}}]),t}(r.a.Component)),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).state={data:[{id_biere:1,nom:"ma biere 0",brasserie:"ma brasserie",image:""},{id_biere:2,nom:"ma biere 1",brasserie:"ma brasserie",image:""},{id_biere:3,nom:"ma biere 2",brasserie:"ma brasserie",image:""},{id_biere:4,nom:"ma biere 3",brasserie:"ma brasserie",image:""},{id_biere:5,nom:"ma biere 4",brasserie:"ma brasserie",image:""},{id_biere:6,nom:"ma biere 3",brasserie:"ma brasserie",image:""},{id_biere:7,nom:"ma biere 4",brasserie:"ma brasserie",image:""},{id_biere:8,nom:"ma biere 3",brasserie:"ma brasserie",image:""},{id_biere:9,nom:"ma biere 4",brasserie:"ma brasserie",image:""},{id_biere:10,nom:"ma biere 3",brasserie:"ma brasserie",image:""},{id_biere:11,nom:"ma biere 4",brasserie:"ma brasserie",image:""},{id_biere:12,nom:"ma biere 3",brasserie:"ma brasserie",image:""},{id_biere:13,nom:"ma biere 4",brasserie:"ma brasserie",image:""}]},a}return Object(b.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://127.0.0.1:8000/webservice/php/biere").then((function(e){return e.json()})).then((function(t){return e.setState({data:t.data})}))}},{key:"render",value:function(){console.log(this.state);var e=this.state.data.map((function(e,t){return r.a.createElement(h.b,{key:e.id_biere,to:"/biere/"+e.id_biere},r.a.createElement(v,{key:e.id_biere,position:t,nom:e.nom,brasserie:e.brasserie,image:e.image}))}));return r.a.createElement("section",{className:"listeBiere accueil"},e)}}]),t}(r.a.Component),f=a(24),g=a(23),j=(a(40),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).state={id_biere:1,nom:"ma biere 0",brasserie:"ma brasserie",image:"",commentaires:[],nouveauCommentaire:"",note:{}},console.log("Details bi\xe8re"),a.soumettreCommentaire=a.soumettreCommentaire.bind(Object(u.a)(a)),a.changement=a.changement.bind(Object(u.a)(a)),a.getCommentaires=a.getCommentaires.bind(Object(u.a)(a)),a.getNote=a.getNote.bind(Object(u.a)(a)),a}return Object(b.a)(t,e),Object(o.a)(t,[{key:"changement",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(g.a)({},a,n))}},{key:"getNote",value:function(e){var t=this;fetch("http://127.0.0.1:8000/webservice/php/biere/"+e+"/note/").then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({note:e.data})}))}},{key:"getCommentaires",value:function(e){var t=this;fetch("http://127.0.0.1:8000/webservice/php/biere/"+e+"/commentaire/").then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({commentaires:e.data})}))}},{key:"soumettreCommentaire",value:function(){var e=this;console.log("envoie commentaires");var t={commentaire:this.state.nouveauCommentaire,courriel:this.props.courriel},a=this.props.match.params.id;this.setState({id_biere:a});var n=new Headers;n.set("Authorization","Basic "+btoa("biero:biero"));var r={method:"PUT",headers:n,withCredentials:!0,mode:"cors",body:JSON.stringify(t)};fetch("http://127.0.0.1:8000/webservice/php/biere/"+a+"/commentaire/",r).then((function(e){return e.json()})).then((function(){e.getCommentaires(a),e.setState({nouveauCommentaire:""})})).catch((function(e){console.log(e),console.log("erreur dans la requ\xeate")}))}},{key:"faireVote",value:function(e){var t=this,a=new Headers;a.set("Authorization","Basic "+btoa("biero:biero"));var n={courriel:this.props.courriel,note:e+1};console.log(n);var r={method:"PUT",headers:a,withCredentials:!0,mode:"cors",body:JSON.stringify(n)},i=this.props.match.params.id;fetch("http://127.0.0.1:8000/webservice/php/biere/"+i+"/note/",r).then((function(e){return e.json()})).then((function(){t.getNote(i)})).catch((function(e){console.log(e),console.log("erreur dans la requ\xeate")}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log(t),fetch("http://127.0.0.1:8000/webservice/php/biere/"+t).then((function(e){return e.json()})).then((function(t){return e.setState(t.data)})),this.getCommentaires(t),this.getNote(t)}},{key:"render",value:function(){var e=this,t=this.state.commentaires.map((function(e,t){return r.a.createElement("article",{className:"unCommentaire",key:t},r.a.createElement("p",null,"Commentaire : ",r.a.createElement("br",null),e.commentaire),r.a.createElement("p",null,"Courriel : ",e.courriel))})),a=r.a.createElement("section",{key:this.props.courriel,className:"ajoutCommentaire"}),n=r.a.createElement("div",{className:"vote"});if(this.props.courriel){a=r.a.createElement("section",{key:this.props.courriel,className:"ajoutCommentaire"},r.a.createElement("h1",{className:"titreCommentaire"},"Ajouter"),r.a.createElement("p",null,"Commentaire : ",r.a.createElement("textarea",{name:"nouveauCommentaire",onChange:this.changement,value:this.state.nouveauCommentaire})),r.a.createElement("button",{onClick:this.soumettreCommentaire},"Envoyer"));var i=Object(f.a)(Array(5)).map((function(t,a){return r.a.createElement("span",{key:a,onClick:function(){e.faireVote(a)}},"\u2605")}));n=r.a.createElement("div",{className:"vote"},"Votre note :",i)}return r.a.createElement("div",null,r.a.createElement("section",{ref:"biere",className:"detailsbiere"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{alt:"",src:"http://placehold.it/204x204"})),r.a.createElement("div",{className:"texte"},r.a.createElement("span",{className:"nom"},"Nom : ",this.state.nom),r.a.createElement("span",{className:"brasserie"},"Brasserie : ",this.state.brasserie),r.a.createElement("section",{className:"note"},"Note : ",this.state.note.note,"/5 (",this.state.note.nombre,")",n))),r.a.createElement("section",{className:"commentaires"},a,t))}}]),t}(r.a.Component)),N=a(12),C=(a(41),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(l.a)(t).call(this,e))).state={courriel:""},a.surChangementGestionnaire=a.surChangementGestionnaire.bind(Object(u.a)(a)),a}return Object(b.a)(t,e),Object(o.a)(t,[{key:"surChangementGestionnaire",value:function(e){var t=e.target.value;console.log(t),this.setState({courriel:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{className:"App",basename:"/client"},r.a.createElement(p,{surChangement:this.surChangementGestionnaire}),r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/biere",component:""},r.a.createElement(E,null)),r.a.createElement(N.a,{exact:!0,path:"/biere/:id",render:function(t){return r.a.createElement(j,Object.assign({},t,{courriel:e.state.courriel}))}}),r.a.createElement(N.a,{exact:!0,path:"/"},r.a.createElement(d,null)),r.a.createElement(N.a,{exact:!0,path:"*"},r.a.createElement("p",null,"Aucune route"))))}}]),t}(r.a.Component));s.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.cb3419ad.chunk.js.map